# Docker-optimized configuration
# Uses container paths for mounted volumes

middleware:
  request_id: false  # Skip UUID generation for performance
  real_ip: false     # Skip IP parsing
  logging: true      # Enable logging for container logs
  throttle: 5000     # High limit for maximum throughput

lua_routing:
  enabled: true
  scripts_dir: "/app/scripts"  # Container path for mounted scripts
  state_pool_size: 60
  global_scripts:
    - "init"
    - "handlers"

tenants:
  - name: "api"
    path_prefix: "/api"
    routes:
      # Simple hello endpoint (no middleware)
      - method: "GET"
        pattern: "/hello"
        handler: "hello_handler"

      # User endpoint for comparison
      - method: "GET"
        pattern: "/users/{id}"
        handler: "get_user"
